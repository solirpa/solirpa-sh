(function(){function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function l(e){return document.createTextNode(e)}function u(){return l(" ")}function m(){return l("")}function f(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function h(e,t){e.value=null==t?"":t}function b(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function y(e,t,n){e.classList[n?"add":"remove"](t)}let v;function $(e){v=e}function x(){if(!v)throw new Error("Function called outside component initialization");return v}function w(e,t){x().$$.context.set(e,t)}function k(e){return x().$$.context.get(e)}const _=[],z=[],C=[],I=[],S=Promise.resolve();let E=!1;function R(e){C.push(e)}let L=!1;const N=new Set;function q(){if(!L){L=!0;do{for(let e=0;e<_.length;e+=1){const t=_[e];$(t),A(t.$$)}for($(null),_.length=0;z.length;)z.pop()();for(let e=0;e<C.length;e+=1){const t=C[e];N.has(t)||(N.add(t),t())}C.length=0}while(_.length);for(;I.length;)I.pop()();E=!1,L=!1,N.clear()}}function A(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}const M=new Set;let T;function O(){T={r:0,c:[],p:T}}function P(){T.r||o(T.c),T=T.p}function j(e,t){e&&e.i&&(M.delete(e),e.i(t))}function U(e,t,n,o){if(e&&e.o){if(M.has(e))return;M.add(e),T.c.push((()=>{M.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function F(e,t){U(e,1,1,(()=>{t.delete(e.key)}))}function D(e,t,n,o,r,s,i,c,a,d,l,u){let m=e.length,f=s.length,p=m;const g={};for(;p--;)g[e[p].key]=p;const h=[],b=new Map,y=new Map;for(p=f;p--;){const e=u(r,s,p),c=n(e);let a=i.get(c);a?o&&a.p(e,t):(a=d(c,e),a.c()),b.set(c,h[p]=a),c in g&&y.set(c,Math.abs(p-g[c]))}const v=new Set,$=new Set;function x(e){j(e,1),e.m(c,l),i.set(e.key,e),l=e.first,f--}for(;m&&f;){const t=h[f-1],n=e[m-1],o=t.key,r=n.key;t===n?(l=t.first,m--,f--):b.has(r)?!i.has(o)||v.has(o)?x(t):$.has(r)?m--:y.get(o)>y.get(r)?($.add(o),x(t)):(v.add(r),m--):(a(n,i),m--)}for(;m--;){const t=e[m];b.has(t.key)||a(t,i)}for(;f;)x(h[f-1]);return h}function B(e){e&&e.c()}function H(e,n,s,i){const{fragment:c,on_mount:a,on_destroy:d,after_update:l}=e.$$;c&&c.m(n,s),i||R((()=>{const n=a.map(t).filter(r);d?d.push(...n):o(n),e.$$.on_mount=[]})),l.forEach(R)}function J(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function V(e,t){-1===e.$$.dirty[0]&&(_.push(e),E||(E=!0,S.then(q)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(t,r,s,i,c,d,l=[-1]){const u=v;$(t);const m=t.$$={fragment:null,ctx:null,props:d,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:r.context||[]),callbacks:n(),dirty:l,skip_bound:!1};let f=!1;if(m.ctx=s?s(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&c(m.ctx[e],m.ctx[e]=r)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](r),f&&V(t,e)),n})):[],m.update(),f=!0,o(m.before_update),m.fragment=!!i&&i(m.ctx),r.target){if(r.hydrate){const e=(p=r.target,Array.from(p.childNodes));m.fragment&&m.fragment.l(e),e.forEach(a)}else m.fragment&&m.fragment.c();r.intro&&j(t.$$.fragment),H(t,r.target,r.anchor,r.customElement),q()}var p;$(u)}class G{$destroy(){J(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var K=function e(t){function n(e,t,o){var r,s={};if(Array.isArray(e))return e.concat(t);for(r in e)s[o?r.toLowerCase():r]=e[r];for(r in t){var i=o?r.toLowerCase():r,c=t[r];s[i]=i in s&&"object"==typeof c?n(s[i],c,"headers"===i):c}return s}function o(e,o,r,s){"string"!=typeof e&&(e=(o=e).url);var i={config:o},c=n(t,o),a={},d=s||c.data;(c.transformRequest||[]).map((function(e){d=e(d,c.headers)||d})),d&&"object"==typeof d&&"function"!=typeof d.append&&(d=JSON.stringify(d),a["content-type"]="application/json");var l="undefined"!=typeof document&&document.cookie.match(RegExp("(^|; )"+c.xsrfCookieName+"=([^;]*)"));if(l&&(a[c.xsrfHeaderName]=l[2]),c.auth&&(a.authorization=c.auth),c.baseURL&&(e=e.replace(/^(?!.*\/\/)\/?(.*)$/,c.baseURL+"/$1")),c.params){var u=~e.indexOf("?")?"&":"?";e+=u+(c.paramsSerializer?c.paramsSerializer(c.params):new URLSearchParams(c.params))}return(c.fetch||fetch)(e,{method:r||c.method,body:d,headers:n(c.headers,a,!0),credentials:c.withCredentials?"include":"same-origin"}).then((function(e){for(var t in e)"function"!=typeof e[t]&&(i[t]=e[t]);var n=c.validateStatus?c.validateStatus(e.status):e.ok;return"stream"==c.responseType?(i.data=e.body,i):e[c.responseType||"text"]().then((function(e){i.data=e,i.data=JSON.parse(e)})).catch(Object).then((function(){return n?i:Promise.reject(i)}))}))}return t=t||{},o.request=o,o.get=function(e,t){return o(e,t,"get")},o.delete=function(e,t){return o(e,t,"delete")},o.head=function(e,t){return o(e,t,"head")},o.options=function(e,t){return o(e,t,"options")},o.post=function(e,t,n){return o(e,n,"post",t)},o.put=function(e,t,n){return o(e,n,"put",t)},o.patch=function(e,t,n){return o(e,n,"patch",t)},o.all=Promise.all.bind(Promise),o.spread=function(e){return function(t){return e.apply(this,t)}},o.CancelToken="function"==typeof AbortController?AbortController:Object,o.defaults=t,o.create=e,o}(),Q={powered_by:"Powered by Cusdis",post_comment:"Post Comment",loading:"Loading",email:"Email (optional)",nickname:"Nickname",reply_placeholder:"Reply...",reply_btn:"Reply",sending:"sending...",mod_badge:"MOD",content_is_required:"Content is required",nickname_is_required:"Nickname is required",comment_has_been_sent:"Your comment has been sent. Please wait for approval."};function W(e){const t=window.CUSDIS_LOCALE||Q,n=t[e]||Q[e];return t[e]||console.warn("[cusdis]","translation of language key",`'${e}'`,"is missing."),n}function X(t){let n,r,s,m,v,$,x,w,k,_,z,C,I,S,E,R,L=(t[3]?W("sending"):W("post_comment"))+"";return{c(){n=d("div"),r=d("div"),s=d("div"),m=d("input"),v=u(),$=d("div"),x=d("input"),w=u(),k=d("div"),_=d("textarea"),z=u(),C=d("div"),I=d("button"),S=l(L),p(m,"type","text"),p(m,"placeholder",W("nickname")),p(m,"class","svelte-1xmitr6"),p(x,"type","text"),p(x,"placeholder",W("email")),p(x,"class","svelte-1xmitr6"),p(r,"class","cusdis-reply-info cusdis-field svelte-1xmitr6"),p(_,"placeholder",W("reply_placeholder")),p(_,"class","svelte-1xmitr6"),p(k,"class","cusdis-field svelte-1xmitr6"),p(I,"cusdis-disabled",t[3]),p(I,"class","submit-btn svelte-1xmitr6"),y(I,"cusdis-disabled",t[3]),p(C,"class","cusdis-field svelte-1xmitr6"),b(n,"margin-top","1em")},m(e,o){c(e,n,o),i(n,r),i(r,s),i(s,m),h(m,t[1]),i(r,v),i(r,$),i($,x),h(x,t[2]),i(n,w),i(n,k),i(k,_),h(_,t[0]),i(n,z),i(n,C),i(C,I),i(I,S),E||(R=[f(m,"input",t[7]),f(x,"input",t[8]),f(_,"input",t[9]),f(I,"click",t[4])],E=!0)},p(e,[t]){2&t&&m.value!==e[1]&&h(m,e[1]),4&t&&x.value!==e[2]&&h(x,e[2]),1&t&&h(_,e[0]),8&t&&L!==(L=(e[3]?W("sending"):W("post_comment"))+"")&&g(S,L),8&t&&p(I,"cusdis-disabled",e[3]),8&t&&y(I,"cusdis-disabled",e[3])},i:e,o:e,d(e){e&&a(n),E=!1,o(R)}}}function Z(e,t,n){let{parentId:o}=t,r="",s="",i="",c=!1,{onSuccess:a}=t;const d=k("api"),l=k("setMessage"),{appId:u,pageId:m,pageUrl:f,pageTitle:p}=k("attrs"),g=k("refresh");return e.$$set=e=>{"parentId"in e&&n(5,o=e.parentId),"onSuccess"in e&&n(6,a=e.onSuccess)},[r,s,i,c,async function(){if(r)if(s)try{n(3,c=!0);await d.post("/api/open/comments",{appId:u,pageId:m,content:r,nickname:s,email:i,parentId:o,pageUrl:f,pageTitle:p});await g(),n(0,r=""),n(1,s=""),n(2,i=""),a&&a(),l(W("comment_has_been_sent"))}finally{n(3,c=!1)}else alert(W("nickname_is_required"));else alert(W("content_is_required"))},o,a,function(){s=this.value,n(1,s)},function(){i=this.value,n(2,i)},function(){r=this.value,n(0,r)}]}class ee extends G{constructor(e){var t;super(),document.getElementById("svelte-1xmitr6-style")||((t=d("style")).id="svelte-1xmitr6-style",t.textContent="textarea.svelte-1xmitr6,input.svelte-1xmitr6{width:100%;border:2px solid #ddd;padding:0.5em;border-radius:4px;outline:none;font-family:inherit;box-sizing:border-box;font-size:1em}textarea.svelte-1xmitr6{height:5em;outline:none}.cusdis-disabled.svelte-1xmitr6{background-color:rgba(0, 0, 0, .5);cursor:not-allowed}.cusdis-reply-info.svelte-1xmitr6{display:grid;grid-template-columns:repeat(2, minmax(0, 1fr));grid-column-gap:0.5em}@media only screen and (max-width: 767px){.cusdis-reply-info.svelte-1xmitr6{display:grid;grid-template-columns:minmax(0, 1fr);grid-row-gap:0.5em}}.submit-btn.svelte-1xmitr6{background-color:#ddd;border:0px;color:rgba(0, 0, 0, 0.8);border-radius:0;padding:0.5em 1em;cursor:pointer;border-radius:2px;font-family:inherit;font-size:1em;word-spacing:normal;text-transform:none;text-indent:0;text-shadow:none;font:inherit;font-weight:bold;align-items:center}.cusdis-field.svelte-1xmitr6{margin-top:0.5em;margin-bottom:0.5em}",i(document.head,t)),Y(this,e,Z,X,s,{parentId:5,onSuccess:6})}}function te(e,t,n){const o=e.slice();return o[5]=t[n],o}function ne(e){let t;return{c(){t=d("span"),t.textContent="MOD",p(t,"class","mod svelte-1lz2d3d")},m(e,n){c(e,t,n)},d(e){e&&a(t)}}}function oe(e){let t,n;return t=new ee({props:{parentId:e[1].id,onSuccess:e[4]}}),{c(){B(t.$$.fragment)},m(e,o){H(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.parentId=e[1].id),1&n&&(o.onSuccess=e[4]),t.$set(o)},i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function re(e){let t,n,o=[],r=new Map,s=e[1].replies.data;const i=e=>e[5].id;for(let c=0;c<s.length;c+=1){let t=te(e,s,c),n=i(t);r.set(n,o[c]=se(n,t))}return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=m()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);c(e,t,r),n=!0},p(e,n){2&n&&(s=e[1].replies.data,O(),o=D(o,n,i,1,e,s,r,t.parentNode,F,se,t,te),P())},i(e){if(!n){for(let e=0;e<s.length;e+=1)j(o[e]);n=!0}},o(e){for(let t=0;t<o.length;t+=1)U(o[t]);n=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&a(t)}}}function se(e,t){let n,o,r;return o=new ae({props:{comment:t[5]}}),{key:e,first:null,c(){n=m(),B(o.$$.fragment),this.first=n},m(e,t){c(e,n,t),H(o,e,t),r=!0},p(e,n){t=e;const r={};2&n&&(r.comment=t[5]),o.$set(r)},i(e){r||(j(o.$$.fragment,e),r=!0)},o(e){U(o.$$.fragment,e),r=!1},d(e){e&&a(n),J(o,e)}}}function ie(e){let t,n,o,r,s,m,h,v,$,x,w,k,_,z,C,I,S,E,R=e[1].by_nickname+"",L=e[1].parsedCreatedAt+"",N=e[1].parsedContent+"",q=e[1].moderatorId&&ne(),A=e[0]&&oe(e),M=e[1].replies.data.length>0&&re(e);return{c(){t=d("div"),n=d("div"),o=d("div"),r=l(R),s=u(),q&&q.c(),m=u(),h=d("div"),v=l(L),$=u(),x=d("div"),w=u(),k=d("div"),_=d("button"),_.textContent=`${W("reply_btn")}`,z=u(),A&&A.c(),C=u(),M&&M.c(),p(o,"class","cusdis-comment-nickname cusdis-inline cusdis-font-bold svelte-1lz2d3d"),p(h,"class","cusdis-comment-date cusdis-inline svelte-1lz2d3d"),b(n,"margin-bottom",".5em"),p(x,"class","cusdis-comment-content svelte-1lz2d3d"),b(x,"margin-bottom",".5em"),p(_,"type","button"),p(_,"class","cusdis-link-btn svelte-1lz2d3d"),b(k,"margin-top",".25em"),b(k,"margin-bottom",".25em"),b(t,"margin-top","2em"),b(t,"margin-bottom","2em"),p(t,"class","svelte-1lz2d3d"),y(t,"cusdis-padding",!0),y(t,"cusdis-indicator",e[2])},m(a,d){c(a,t,d),i(t,n),i(n,o),i(o,r),i(n,s),q&&q.m(n,null),i(n,m),i(n,h),i(h,v),i(t,$),i(t,x),x.innerHTML=N,i(t,w),i(t,k),i(k,_),i(t,z),A&&A.m(t,null),i(t,C),M&&M.m(t,null),I=!0,S||(E=f(_,"click",e[3]),S=!0)},p(e,[o]){(!I||2&o)&&R!==(R=e[1].by_nickname+"")&&g(r,R),e[1].moderatorId?q||(q=ne(),q.c(),q.m(n,m)):q&&(q.d(1),q=null),(!I||2&o)&&L!==(L=e[1].parsedCreatedAt+"")&&g(v,L),(!I||2&o)&&N!==(N=e[1].parsedContent+"")&&(x.innerHTML=N),e[0]?A?(A.p(e,o),1&o&&j(A,1)):(A=oe(e),A.c(),j(A,1),A.m(t,C)):A&&(O(),U(A,1,1,(()=>{A=null})),P()),e[1].replies.data.length>0?M?(M.p(e,o),2&o&&j(M,1)):(M=re(e),M.c(),j(M,1),M.m(t,null)):M&&(O(),U(M,1,1,(()=>{M=null})),P())},i(e){I||(j(A),j(M),I=!0)},o(e){U(A),U(M),I=!1},d(e){e&&a(t),q&&q.d(),A&&A.d(),M&&M.d(),S=!1,E()}}}function ce(e,t,n){let{comment:o}=t,{showReplyForm:r=!1}=t;const{showIndicator:s}=k("attrs");return e.$$set=e=>{"comment"in e&&n(1,o=e.comment),"showReplyForm"in e&&n(0,r=e.showReplyForm)},[r,o,s,e=>{n(0,r=!0)},()=>{n(0,r=!1)}]}class ae extends G{constructor(e){var t;super(),document.getElementById("svelte-1lz2d3d-style")||((t=d("style")).id="svelte-1lz2d3d-style",t.textContent=".cusdis-padding.svelte-1lz2d3d{padding-left:1em}.cusdis-indicator.svelte-1lz2d3d{border-left:2px solid #ddd}.cusdis-font-bold.svelte-1lz2d3d{font-weight:bold}.cusdis-inline.svelte-1lz2d3d{display:inline-block}.cusdis-comment-nickname.svelte-1lz2d3d{font-size:1em}.cusdis-comment-content.svelte-1lz2d3d{color:rgba(0, 0, 0, 0.8);font-size:1em}.cusdis-comment-date.svelte-1lz2d3d{color:rgba(0, 0, 0, 0.8);font-size:0.8em}.cusdis-link-btn.svelte-1lz2d3d{font-size:0.8em;text-decoration:underline;cursor:pointer;border:0;margin:0;background:none;padding:0}.mod.svelte-1lz2d3d{background-color:#ddd;font-size:.8em;box-sizing:border-box;padding:.15em .4em;border-radius:4px;font-weight:bold;color:rgba(0,0, 0, .8)}",i(document.head,t)),Y(this,e,ce,ie,s,{comment:1,showReplyForm:0})}}function de(e,t,n){const o=e.slice();return o[11]=t[n],o[13]=n,o}function le(e,t,n){const o=e.slice();return o[14]=t[n],o}function ue(e){let t,n,o,r,s,l,m,f,g,h,y,v=e[3]&&me(e);o=new ee({});const $=[pe,fe],x=[];function w(e,t){return e[2]?0:1}return l=w(e),m=x[l]=$[l](e),{c(){t=d("div"),v&&v.c(),n=u(),B(o.$$.fragment),r=u(),s=d("div"),m.c(),f=u(),g=d("div"),h=d("a"),h.textContent=`${W("powered_by")}`,b(h,"text-decoration","none"),p(h,"href","https://cusdis.com"),p(g,"class","cusdis-footer svelte-139ek2w"),p(t,"class","comment-main svelte-139ek2w")},m(e,a){c(e,t,a),v&&v.m(t,null),i(t,n),H(o,t,null),i(t,r),i(t,s),x[l].m(s,null),i(t,f),i(t,g),i(g,h),y=!0},p(e,o){e[3]?v?v.p(e,o):(v=me(e),v.c(),v.m(t,n)):v&&(v.d(1),v=null);let r=l;l=w(e),l===r?x[l].p(e,o):(O(),U(x[r],1,1,(()=>{x[r]=null})),P(),m=x[l],m?m.p(e,o):(m=x[l]=$[l](e),m.c()),j(m,1),m.m(s,null))},i(e){y||(j(o.$$.fragment,e),j(m),y=!0)},o(e){U(o.$$.fragment,e),U(m),y=!1},d(e){e&&a(t),v&&v.d(),J(o),x[l].d()}}}function me(e){let t,n;return{c(){t=d("div"),n=l(e[3]),p(t,"class","cusdis-message svelte-139ek2w")},m(e,o){c(e,t,o),i(t,n)},p(e,t){8&t&&g(n,e[3])},d(e){e&&a(t)}}}function fe(e){let t,n,o,r=[],s=new Map,i=e[0].data;const d=e=>e[14].id;for(let c=0;c<i.length;c+=1){let t=le(e,i,c),n=d(t);s.set(n,r[c]=ge(n,t))}let l=e[0].pageCount>1&&he(e);return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=u(),l&&l.c(),n=m()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);c(e,t,s),l&&l.m(e,s),c(e,n,s),o=!0},p(e,o){1&o&&(i=e[0].data,O(),r=D(r,o,d,1,e,i,s,t.parentNode,F,ge,t,le),P()),e[0].pageCount>1?l?l.p(e,o):(l=he(e),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i(e){if(!o){for(let e=0;e<i.length;e+=1)j(r[e]);o=!0}},o(e){for(let t=0;t<r.length;t+=1)U(r[t]);o=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&a(t),l&&l.d(e),e&&a(n)}}}function pe(t){let n;return{c(){n=d("div"),n.textContent=`${W("loading")}...`,b(n,"text-align","center"),b(n,"font-size",".8em")},m(e,t){c(e,n,t)},p:e,i:e,o:e,d(e){e&&a(n)}}}function ge(e,t){let n,o,r;return o=new ae({props:{comment:t[14],firstFloor:!0}}),{key:e,first:null,c(){n=m(),B(o.$$.fragment),this.first=n},m(e,t){c(e,n,t),H(o,e,t),r=!0},p(e,n){t=e;const r={};1&n&&(r.comment=t[14]),o.$set(r)},i(e){r||(j(o.$$.fragment,e),r=!0)},o(e){U(o.$$.fragment,e),r=!1},d(e){e&&a(n),J(o,e)}}}function he(e){let t,n=Array(e[0].pageCount),o=[];for(let r=0;r<n.length;r+=1)o[r]=be(de(e,n,r));return{c(){t=d("div");for(let e=0;e<o.length;e+=1)o[e].c();p(t,"class","cusdis-paginator svelte-139ek2w")},m(e,n){c(e,t,n);for(let r=0;r<o.length;r+=1)o[r].m(t,null)},p(e,r){if(35&r){let s;for(n=Array(e[0].pageCount),s=0;s<n.length;s+=1){const i=de(e,n,s);o[s]?o[s].p(i,r):(o[s]=be(i),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&a(t),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(o,e)}}}function be(e){let t,n,o,r,s=e[13]+1+"";function u(...t){return e[7](e[13],...t)}return{c(){t=d("button"),n=l(s),p(t,"class","cusdis-pagination-button svelte-139ek2w"),y(t,"selected",e[1]===e[13]+1)},m(e,s){c(e,t,s),i(t,n),o||(r=f(t,"click",u),o=!0)},p(n,o){e=n,2&o&&y(t,"selected",e[1]===e[13]+1)},d(e){e&&a(t),o=!1,r()}}}function ye(e){let t,n,o=!e[4]&&ue(e);return{c(){o&&o.c(),t=m()},m(e,r){o&&o.m(e,r),c(e,t,r),n=!0},p(e,[n]){e[4]?o&&(O(),U(o,1,1,(()=>{o=null})),P()):o?(o.p(e,n),16&n&&j(o,1)):(o=ue(e),o.c(),j(o,1),o.m(t.parentNode,t))},i(e){n||(j(o),n=!0)},o(e){U(o),n=!1},d(e){o&&o.d(e),e&&a(t)}}}function ve(e,t,n){let o,{attrs:r}=t,{commentsResult:s}=t,i=1,c=!0,a="";const d=K.create({baseURL:r.host});async function l(e=1){n(2,c=!0);try{const t=await d.get("/api/open/comments",{params:{page:e,appId:r.appId,pageId:r.pageId}});n(0,s=t.data.data)}catch(t){n(4,o=t)}finally{n(2,c=!1)}}function u(e){n(1,i=e),l(e)}var m;w("api",d),w("attrs",r),w("refresh",l),w("setMessage",(function(e){n(3,a=e)})),m=()=>{l()},x().$$.on_mount.push(m);return e.$$set=e=>{"attrs"in e&&n(6,r=e.attrs),"commentsResult"in e&&n(0,s=e.commentsResult)},[s,i,c,a,o,u,r,(e,t)=>u(e+1)]}class $e extends G{constructor(e){var t;super(),document.getElementById("svelte-139ek2w-style")||((t=d("style")).id="svelte-139ek2w-style",t.textContent=".cusdis-footer.svelte-139ek2w{margin-top:1em;font-size:0.8em;text-align:center}.comment-main.svelte-139ek2w{font-size:17px}.cusdis-message.svelte-139ek2w{background-color:#046582;color:#fff;padding:0.5em;font-size:1em}.cusdis-paginator.svelte-139ek2w{display:flex}.cusdis-pagination-button.svelte-139ek2w{background:none;border:none;cursor:pointer;margin-right:0.5em;padding:0.2em 0.5em;box-sizing:border-box}.cusdis-pagination-button.selected.svelte-139ek2w{background-color:#ddd}",i(document.head,t)),Y(this,e,ve,ye,s,{attrs:6,commentsResult:0})}}function xe(e){e&&(e.innerHTML="",new $e({target:e,props:{attrs:e.dataset}}))}let we;window.renderCusdis=xe,window.cusdisElementId?we=document.querySelector(`#${window.cusdisElementId}`):document.querySelector("#cusdis_thread")?we=document.querySelector("#cusdis_thread"):document.querySelector("#cusdis")&&(console.warn("id `cusdis` is deprecated. Please use `cusdis_thread` instead"),we=document.querySelector("#cusdis")),!0===window.CUSDIS_PREVENT_INITIAL_RENDER||we&&xe(we);})()